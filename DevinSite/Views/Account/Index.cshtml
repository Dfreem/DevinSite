@model UserProfileVM
@*@inject SignInManager<Student> signInManager*@
@{
    ViewData["Title"] = "User Profile";
}

<div>
    <table class="table profile-table">
        <caption class="caption-top">
            1. Make a copy and/or change the name of the `examplesettings.json` file to `appsettings.json`
            <br />
            2. Login to your Moodle student account
            <br />
            3. Navigate to the Calendar page.
            <br />
            4. Make sure to be on the Day or Month view, You should see a button the says "Export Calendar"
            <br />
            5. select eiter this week or next week as the time frame, and all events.
            <br />
            6. push "Get Calendar URL"
        </caption>
        <thead>
            <tr>
                <th class="table-active">
                    User:
                </th>
                <th class="table-secondary">
                    <input type="text" asp-for="@Model.Name" value="@Model.Name" />
                </th>
                <th class="table-secondary">
                    <form asp-action="SetMoodleString">
                        <label asp-for="@Model.NewMoodle">
                            Enter a new Calendar URL for retrieving your assignments.
                        </label>
                        <input asp-for="@Model.NewMoodle" />
                        <input type="submit" value="save calendar URL">
                    </form>
                </th>
            </tr>
            <tr>
                <td>
                    User Name
                </td>
                <td>
                    @Model.UserName
                </td>
            </tr>
            <tr>
                <td>
                    e-mail
                </td>
                <td>
                    @Model.Email
                </td>
            </tr>
            <tr>
                <td>
                    last assignment update
                </td>
                <td>
                    @Model.LastUpdate.ToString();
                </td>
            </tr>
    </table>
</div>
    <form asp-action="ChangePasswordAsync" asp-controller="Account">
        <div class="d-flex">
            <label asp-for="@Model.Password">Current password</label>
            <input type="password" asp-for="@Model.Password" />
            <label asp-for="@Model.NewPassword">New password</label>
            <input type="password" asp-for="@Model.Password" />
            <label asp-for="@Model.ConfirmPassword">Confirm new Password</label>
            <input type="password" asp-for="@Model.ConfirmPassword" />
            <input type="submit" value="Change Password" />
        </div>
    </form>
